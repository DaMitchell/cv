define("config",["command/about","command/clear","command/help","command/split","command/table","command/test","command/window","command/exit","exports"],function(n,e,t,o,i,a,r,c,s){"use strict";function u(n,e){s[n]=e}var f;f=n["default"];var l;l=e["default"];var d;d=t["default"];var m;m=o["default"];var p;p=i["default"];var h;h=a["default"];var g;g=r["default"];var v;v=c["default"],u("default",{title:"Console CV",version:"2.0.0",commands:[g,d,f,l,h,p,m,v],container:null,containerClone:null,inputSelector:".input-holder",outputSelector:".output-holder",promptSelector:".prompt",initOutput:['Type "help" to get a list of commands'," "]})}),define("console",["events","config","core/runner","core/tracking","core/hierarchy","view/custom-input","view/output","template/console","exports"],function(n,e,t,o,i,a,r,c,s){"use strict";function u(n,e){s[n]=e}var f;f=n["default"];var l;l=e["default"];var d;d=t["default"];var m;m=o["default"];var p;p=i["default"];var h;h=a["default"];var g;g=r["default"];var v;v=c["default"],u("default",function(n,e){function t(n){n.config.containerClone=$(n.config.container).clone(),$(n.config.container).html(v.join("\n"))}function o(n){n.views.input=new h(n),n.views.output=new g(n),n.runner=new d(n),n.tracking=new m(n)}function i(n){var e=n.config;e.commands&&_.isArray(e.commands)&&e.commands.map(function(e,t){"function"==typeof e&&(n.commands.push(new e),"function"==typeof n.commands[t].init&&n.commands[t].init(n))})}var a={config:l,commands:[],views:{input:null,output:null,prompt:null},runner:null,tracking:null,hierarchy:new p};return e=e||{},e.container=n,e.parent&&(a.hierarchy.setParent(e.parent),delete e.parent),a.config=$.extend({},a.config,e||{}),t(a),i(a),o(a),$(document.documentElement||window).on("click.console",function(n){$(n.target).closest($(a.config.container)).hasClass("console")||$(a).trigger(f.DISABLE)}),$(a.config.container).on("click",function(){$(a).trigger(f.ENABLE)}),$(a).trigger(f.READY),a})}),define("events",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",{READY:"cv.console.ready",ENABLE:"cv.console.enable",DISABLE:"cv.console.disable",INPUT_SHOW:"cv.console.input.show",INPUT_HIDE:"cv.console.input.hide",OUTPUT:"cv.console.output",OUTPUT_CLEAR:"cv.console.outputclear",COMMAND_SUBMIT:"cv.console.command.submit",COMMAND_ERROR:"cv.console.command.error",COMMAND_NOT_FOUND:"cv.console.command.not.found",COMMAND_COMPLETE:"cv.console.command.complete"})}),define("main",["console","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(n,e){return new o(n,e)})}),define("command/about",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"about"}function t(){return"Information on what this is all about."}function i(){function n(){$(a).trigger(o.COMMAND_ERROR,"There was an error getting fetching the about information.")}function e(n){for(var e=0;e<n.lines.length;e++)$(a).trigger(o.OUTPUT,{content:n.lines[e],classes:["white","fade-in"]})}$.getJSON("data/about.json").done(e).fail(n)}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/clear",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"clear"}function t(){return"Clear the window of all past output."}function i(){$(a).trigger(o.OUTPUT_CLEAR)}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/exit",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"exit"}function t(){return"Exit the console"}function i(){if(!a.hierarchy.hasParent())return $(a).trigger(o.OUTPUT,{content:"There always has to be at least one console and this was the first one created."}),!0;var n=a.hierarchy.getParent(),e=$(a.config.container).parent(),t=e.parent();if(e.siblings().each(function(){var n=$(this);n.children().appendTo(t),n.remove()}),a.hierarchy.hasChildren())for(var i=a.hierarchy.getChildren(),r=0;r<i.length;r++){var c=i[r];a.hierarchy.removeChild(c),c.hierarchy.setParent(n),n.hierarchy.addChild(c)}e.remove(),n.hierarchy.removeChild(a)}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/help",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){u=n}function e(){return"help"}function t(){return["Display help information"]}function i(n){var e=[{content:u.config.title+' <span class="white">version</span> <span class="yellow">'+u.config.version+"</span>"},{}];e=e.concat(n.length?c(n):a()),e.map(function(n){$(u).trigger(o.OUTPUT,n)})}function a(){var n=[{content:"Usage:",classes:["yellow"]},{content:"  command [arguments]",classes:["fade-in"]},{},{classes:["yellow"],content:"Available commands:"}];return n.concat(r(),[{},{content:"See 'help &lt;command&gt;' for more information on a specific command."},{}])}function r(){var n,e,t=0,o=[],i=u.commands.map(function(n){return"function"!=typeof n.getCommand?!1:(e=n.getCommand(),e.length>t&&(t=e.length),{name:e,description:"function"==typeof n.getDescription?n.getDescription():""})});return i.map(function(e){$.makeArray(e.description).map(function(i,a){n=0===a?"  "+e.name+s(i,t-e.name.length+4):"  "+s(i,t+4),o.push({content:n,classes:["white","fade-in"]})})}),o}function c(n){var e=[{content:"There isn't any extra help for this command",classes:["blue","fade-in"]}],t=_.find(u.commands,function(e){return e.getCommand()===n[0]});return t&&"function"==typeof t.getHelp&&(e=$.makeArray(t.getHelp()).map(function(n){return _.isString(n)&&(n={content:n,classes:["fade-in"]}),n})),e}function s(n,e){var t,o="";for(t=0;e>t;t++)o+=" ";return o+n}var u;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/split",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"split"}function t(){return"Split the console window"}function i(n){var e;switch(n[0]){case"horiz":case"vert":e=n[0]}if(e){if("vert"===e){var t=$("<div>").addClass("left"),i=$("<div>").addClass("right").append(a.config.containerClone.clone());$(a.config.container).parent().append(t),$(a.config.container).parent().append(i),$(a.config.container).appendTo(t),a.hierarchy.addChild(new require("console")["default"](i.find(".console"),{parent:a}))}else if("horiz"===e){var r=$("<div>").addClass("top"),c=$("<div>").addClass("bottom").append(a.config.containerClone.clone());$(a.config.container).parent().append(r),$(a.config.container).parent().append(c),$(a.config.container).appendTo(r),a.hierarchy.addChild(new require("console")["default"](c.find(".console"),{parent:a}))}return!0}$(a).trigger(o.OUTPUT,{content:'Sorry "'+e+'" is an invalid split direction.'})}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/table",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"table"}function t(){return"A test for table"}function i(){var n=["+--------------------------------+-------------------------------------+-------------------+","| Name                           | Path                                | Requirements      |","+--------------------------------+-------------------------------------+-------------------+","| auth.login                     | /auth/login                         | _method => POST   |","| auth.logout                    | /auth/logout                        | _method => GET    |","| akuma.index                    | /akuma/                             | _method => GET    |","| akuma.magazines.create         | /akuma/magazines                    | _method => POST   |","| akuma.magazines.update         | /akuma/magazines/{magazine}         | _method => PUT    |","| akuma.magazines.delete         | /akuma/magazines/{magazine}         | _method => DELETE |","| akuma.magazines.get            | /akuma/magazines/{magazine}         | _method => GET    |","| akuma.magazines.issues         | /akuma/magazines/{magazine}/issues  | _method => GET    |","| akuma.issues.create            | /akuma/issues                       | _method => POST   |","| akuma.issues.update            | /akuma/issues/{issue}               | _method => PUT    |","| akuma.issues.delete            | /akuma/issues/{issue}               | _method => DELETE |","| akuma.issues.get               | /akuma/issues/{issue}               | _method => GET    |","| akuma.issues.articles.add      | /akuma/issues/{issue}/articles      | _method => POST   |","| akuma.issues.articles.remove   | /akuma/issues/{issue}/articles      | _method => DELETE |","| akuma.users.create             | /akuma/users                        | _method => POST   |","| akuma.users.articles.index     | /akuma/users/{user}/articles        | _method => GET    |","+--------------------------------+-------------------------------------+-------------------+"];n.map(function(n){$(a).trigger(o.OUTPUT,{content:n,classes:["table"]})})}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/test",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"test"}function t(){return"Some test lines to see the different theme colors"}function i(){var n=$.Deferred(),e="This is some test text to see the colors",t=["black","red","green","yellow","blue","magenta","cyan","white"];return t.map(function(i,r){_.delay(function(){$(a).trigger(o.OUTPUT,{content:e,classes:[i,"fade-in"]}),r===t.length-1&&n.resolve()},100*r)}),n.promise()}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/window",["events","util/transition-event","exports"],function(n,e,t){"use strict";function o(n,e){t[n]=e}var i;i=n["default"];var a;a=e["default"],o("default",function(){function n(n){c=n}function e(){return"window"}function t(){return["Allows you to change the size of the window.","Will work depending on you screen size."]}function o(){return[{content:"Usage:",classes:["yellow"]},{content:"  window &lt;size&gt;",classes:["fade-in"]},{content:"Sizes:",classes:["yellow"]},{content:"  min",classes:["fade-in"]},{content:"  max",classes:["fade-in"]},{content:"Description:",classes:["yellow"]},{content:"  Allow you to change the size of the console window",classes:["fade-in"]},{content:"  If you are using this command on a mobile device nothing will happen as the console is always at max.",classes:["fade-in"]}]}function r(n){var e=$.Deferred(),t=$(c.config.container),o=n[0];if(!t.hasClass(o)){var r;switch(o){case"min":case"max":r=o}if(r){var s=a();return s&&t.one(a(),function(){console.log("window transition fin"),e.resolve()}),t.parents("#console").removeClass("min max").addClass(r),s?e.promise():e.resolve()}$(c).trigger(i.OUTPUT,{content:'Sorry "'+o+'" is an invalid size'})}}var c;return{init:n,getCommand:e,getDescription:t,getHelp:o,execute:r}})}),define("core/hierarchy",["exports"],function(n){"use strict";function e(e,t){n[e]=t}var t=function(){this.parent=null,this.children=[]};t.prototype={parent:null,children:[],addChild:function(n){return this.children.push(n),this},removeChild:function(n){var e=_.indexOf(this.children,n);return e>-1&&this.children.splice(e,1),this},getChildren:function(){return this.children},hasChildren:function(){return!!this.children.length},setParent:function(n){return this.parent=n,this},getParent:function(){return this.parent},hasParent:function(){return!!this.parent}},e("default",t)}),define("core/runner",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(n){function e(e,t){var i;if(t.command.length){var a=_.find(n.commands,function(n){return"function"!=typeof n.getCommand?!1:n.getCommand()===$.trim(t.command)});a&&"function"==typeof a.execute?i=a.execute(t.args):$(n).trigger(o.COMMAND_NOT_FOUND,t)}var r=function(){$(n).trigger(o.COMMAND_COMPLETE)};i&&i.done?i.done(r):r()}return $(n).off(o.COMMAND_SUBMIT,e).on(o.COMMAND_SUBMIT,e),{execute:e}})}),define("core/tracking",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(n){function e(n,e){"function"==typeof ga&&ga("send","event","command",e.command,e.args.join(" "))}$(n).off(o.COMMAND_SUBMIT,e).on(o.COMMAND_SUBMIT,e)})}),define("template/console",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",['<div class="console-content">','<div class="output-holder"></div>','<div class="input-holder">','<span class="prompt">user@cv [<span class="time">--:--:--</span>]&gt;&nbsp;</span>','<span class="input">','<span></span><span class="cursor">&nbsp;</span><span></span>',"</span>",'<div class="clipboard"><input type="text" class="clipboard-input"/></div>',"</div>","</div>"])}),define("util/command-history",["exports"],function(n){"use strict";function e(e,t){n[e]=t}var t=function(){this.historyArray=[],this.currentIndex=0};t.prototype={resetIndex:function(){this.currentIndex=this.historyArray.length},addHistory:function(n){this.historyArray.push(n)},getNextCommand:function(){return this.currentIndex-1<0?this.historyArray[this.currentIndex]:(this.currentIndex--,this.historyArray[this.currentIndex])},getPreviousCommand:function(){return this.currentIndex++,this.historyArray[this.currentIndex]}},e("default",t)}),define("util/linkify",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",function(n){if(void 0===n)return"";var e=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,t=/(^|[^\/])(www\.[\S]+(\b|$))/gim,o=/\w+@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6})+/gim;return n.replace(e,'<a href="$&" target="_blank">$&</a>').replace(t,'$1<a href="http://$2" target="_blank">$2</a>').replace(o,'<a href="mailto:$&">$&</a>')})}),define("util/transition-event",["exports"],function(n){"use strict";function e(e,t){n[e]=t}function t(){var n,e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(void 0!==e.style[n])return t[n]}var o;e("default",function(){return o||(o=t()),o})}),define("view/custom-input",["events","view/prompt","util/command-history","exports"],function(n,e,t,o){"use strict";function i(n,e){o[n]=e}var a;a=n["default"];var r;r=e["default"];var c;c=t["default"],i("default",function(n){function e(){var n=y.prev(),e=y.next();x===C.length?(n.text(C),y.html("&nbsp;"),e.text("")):0===x?(n.text(""),y.text(C.slice(0,1)),e.text(C.slice(1))):(n.text(C.slice(0,x)),y.text(C.slice(x,x+1)),e.text(x===C.length-1?"":C.slice(x+1)))}function t(n){x===C.length?C+=n:C=0===x?n+C:C.slice(0,x)+n+C.slice(x),x+=n.length,e()}function o(){var t=C.split(" "),o=t.shift();$(n).trigger(a.COMMAND_SUBMIT,{prompt:D.getPromptText(),command:o,args:t}),C.length&&k.addHistory(C),k.resetIndex(),C="",x=C.length,e()}function i(n){var t=n.which;t===O.left?x=0>x-1?0:x-1:t===O.right&&(x=x+1>C.length?C.length:x+1),e()}function s(n){var t,o=n.which;o===O.up?t=k.getNextCommand():o===O.down&&(t=k.getPreviousCommand()),C=void 0===t?"":t,x=C.length,e()}function u(){""!==C&&x>0&&(C=C.slice(0,x-1)+C.slice(x,C.length),x--,e())}function f(){""!==C&&x<C.length&&(C=C.slice(0,x)+C.slice(x+1,C.length),e())}function l(){return T.focus(),setTimeout(function(){t(T.val()),T.blur().val("")},10),!0}function d(){x=0,e()}function m(){x=C.length,e()}function p(n){!n.ctrlKey&&!n.altKey&&$.inArray(n.which,[91,93])<0&&($(".nano").nanoScroller({scroll:"bottom"}),t(String.fromCharCode(n.which)))}function h(){w.show().addClass("fade-in"),n.hierarchy.hasParent()?v():g(),e()}function g(){y.addClass("enable"),A.listen(),_?(T.off("keypress",p).on("keypress",p),$(n.config.container).click(function(){T.focus()}),T.focus()):$(document).off("keypress",p).on("keypress",p)}function v(){_?$(document).off("keypress",p):T.off("keypress",p),A.stop_listening(),y.removeClass("enable")}var w=$(n.config.container).find(n.config.inputSelector),y=w.find(".cursor"),T=w.find(".clipboard-input"),C="",x=C.length,_="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,k=new c,D=new r(w.find(n.config.promptSelector)),A=new window.keypress.Listener,O={enter:13,left:37,up:38,right:39,down:40};A.simple_combo("tab",function(){return!1}),A.simple_combo("enter",o),A.simple_combo("left",i),A.simple_combo("right",i),A.simple_combo("up",s),A.simple_combo("down",s),A.simple_combo("backspace",u),A.simple_combo("delete",f),A.simple_combo("cmd v",l),A.simple_combo("ctrl v",l),A.simple_combo("cmd left",d),A.simple_combo("ctrl left",d),A.simple_combo("cmd right",m),A.simple_combo("ctrl right",m),$(n).off(a.ENABLE,g).on(a.ENABLE,g),$(n).off(a.DISABLE,v).on(a.DISABLE,v);var E=D.updateTime.bind(D);$(n).off(a.READY,E).on(a.READY,E),$(n).off(a.COMMAND_SUBMIT,E).on(a.COMMAND_SUBMIT,E),$(n).off(a.READY,h).on(a.READY,h)})}),define("view/input",["events","view/prompt","util/command-history","exports"],function(n,e,t,o){"use strict";function i(n,e){o[n]=e}var a;a=n["default"];var r;r=e["default"];var c;c=t["default"],i("default",function(n){function e(){$(n.config.input).show().addClass("fade-in"),s.focus()}function t(){$(n.config.input).hide()}function o(e){var t;if(e.keyCode===u.enter){var o=s.val(),i=o.split(" "),r=i.shift();$(n).trigger(a.COMMAND_SUBMIT,{prompt:f.getPromptText(),command:r,args:i}),o.length&&c.addHistory(o),c.resetIndex(),s.val("")}else e.keyCode===u.up?(t=c.getNextCommand(),s.val(void 0===t?"":t)):e.keyCode===u.down&&(t=c.getPreviousCommand(),s.val(void 0===t?"":t))}function i(n){(n.keyCode===u.up||n.keyCode===u.down)&&(s[0].selectionStart=s[0].selectionEnd=s[0].value.length)}var s=$(n.config.input).find("input"),u={enter:13,up:38,down:40},f=new r($(n.config.input).find(".prompt"));return $(n).off(a.READY,f.updateTime).on(a.READY,f.updateTime),$(n).off(a.COMMAND_SUBMIT,f.updateTime).on(a.COMMAND_SUBMIT,f.updateTime),$(n).off(a.READY,e).on(a.READY,e),$(n).off(a.INPUT_SHOW,e).on(a.INPUT_SHOW,e),$(n).off(a.INPUT_HIDE,t).on(a.INPUT_HIDE,t),s.off("keydown",o).on("keydown",o),s.off("keyup",i).on("keyup",i),$(n.config.container).click(function(){s.focus()}),{}})}),define("view/output",["events","util/linkify","exports"],function(n,e,t){"use strict";function o(n,e){t[n]=e}var i;i=n["default"];var a;a=e["default"],o("default",function(n){function e(n,e){var t=["line"];void 0!==e&&$.isArray(e)&&(t=t.concat(e));var o=$("<div>").addClass(t.join(" ")).html(a(n));f.append(o),l.scrollTop(l[0].scrollHeight)}function t(n,t){e(t.prompt+" "+t.command+" "+t.args.join(" "))}function o(n,t){e('The command "'+t.command+'" could not be found.')}function r(n,t){e(t,["red"])}function c(){$(n.config.container).nanoScroller(d)}function s(n,t){e(t.content,t.classes)}function u(){f.find(".line").remove()}var f=$(n.config.container).find(n.config.outputSelector),l=$(n.config.container).find(".console-content"),d={paneClass:"console-pane",sliderClass:"console-slider",contentClass:"console-content"};$(n).on(i.COMMAND_NOT_FOUND,o),$(n).on(i.COMMAND_ERROR,r),$(n).on(i.COMMAND_SUBMIT,t),$(n).on(i.COMMAND_COMPLETE,c),$(n).on(i.OUTPUT_CLEAR,u),$(n).on(i.OUTPUT,s),$(n).on(i.READY,c);for(var m=0,p=n.config.initOutput.length;p>m;m++)e(n.config.initOutput[m],["fade-in"]);return{addOutputLine:e}})}),define("view/prompt",["exports"],function(n){"use strict";function e(e,t){n[e]=t}var t=function(n){this.element=n};t.prototype={element:null,zeroFill:function(n,e){for(n=n.toString();n.length<e;)n="0"+n;return n},updateTime:function(){var n=new Date,e=this.zeroFill(n.getHours(),2)+":"+this.zeroFill(n.getMinutes(),2)+":"+this.zeroFill(n.getSeconds(),2);this.element.find(".time").text(e)},getPromptText:function(){return $.trim(this.element.text())}},e("default",t)});