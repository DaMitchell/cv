define("config",["command/about","command/clear","command/help","command/table","command/test","command/window","exports"],function(n,e,t,o,i,a,c){"use strict";function u(n,e){c[n]=e}var s;s=n["default"];var r;r=e["default"];var f;f=t["default"];var l;l=o["default"];var m;m=i["default"];var d;d=a["default"],u("default",{title:"Console CV",version:"2.0.0",commands:[new d,new f,new s,new r,new m,new l],container:null,inputSelector:".input-holder",outputSelector:".output-holder",promptSelector:".prompt",initOutput:['Type "help" to get a list of commands'," "]})}),define("events",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",{READY:"cv.console.ready",ENABLE:"cv.console.enable",DISABLE:"cv.console.disable",INPUT_SHOW:"cv.console.input.show",INPUT_HIDE:"cv.console.input.hide",OUTPUT:"cv.console.output",OUTPUT_CLEAR:"cv.console.outputclear",COMMAND_SUBMIT:"cv.console.command.submit",COMMAND_ERROR:"cv.console.command.error",COMMAND_NOT_FOUND:"cv.console.command.not.found",COMMAND_COMPLETE:"cv.console.command.complete"})}),define("main",["events","config","core/runner","core/tracking","view/custom-input","view/output","exports"],function(n,e,t,o,i,a,c){"use strict";function u(n,e){c[n]=e}function s(n){n.views.input=new p(n),n.views.output=new g(n),n.runner=new m(n),n.tracking=new d(n)}function r(n){var e=n.config;e.commands&&_.isArray(e.commands)&&e.commands.map(function(e,t){"object"==typeof e&&(n.commands.push(e),"function"==typeof n.commands[t].init&&n.commands[t].init(n))})}var f;f=n["default"];var l;l=e["default"];var m;m=t["default"];var d;d=o["default"];var p;p=i["default"];var g;g=a["default"];var v={config:l,commands:[],views:{input:null,output:null,prompt:null},runner:null,tracking:null};u("default",function(n,e){return e=e||{},e.container=n,v.config=$.extend({},v.config,e||{}),r(v),s(v),$(document.documentElement||window).on("click.console",function(n){$(n.target).closest($(v.config.container)).hasClass("console")||$(v).trigger(f.DISABLE)}),$(v.config.container).on("click",function(){$(v).trigger(f.ENABLE)}),$(v).trigger(f.READY),v})}),define("command/about",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"about"}function t(){return"Information on what this is all about."}function i(){function n(){$(a).trigger(o.COMMAND_ERROR,"There was an error getting fetching the about information.")}function e(n){for(var e=0;e<n.lines.length;e++)$(a).trigger(o.OUTPUT,{content:n.lines[e],classes:["white","fade-in"]})}$.getJSON("data/about.json").done(e).fail(n)}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/clear",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"clear"}function t(){return"Clear the window of all past output."}function i(){$(a).trigger(o.OUTPUT_CLEAR)}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/help",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){r=n}function e(){return"help"}function t(){return["Display help information"]}function i(n){var e=[{content:r.config.title+' <span class="white">version</span> <span class="yellow">'+r.config.version+"</span>"},{}];e=e.concat(n.length?u(n):a()),e.map(function(n){$(r).trigger(o.OUTPUT,n)})}function a(){var n=[{content:"Usage:",classes:["yellow"]},{content:"  command [arguments]",classes:["fade-in"]},{},{classes:["yellow"],content:"Available commands:"}];return n.concat(c(),[{},{content:"See 'help &lt;command&gt;' for more information on a specific command."},{}])}function c(){var n,e,t=0,o=[],i=r.commands.map(function(n){return"function"!=typeof n.getCommand?!1:(e=n.getCommand(),e.length>t&&(t=e.length),{name:e,description:"function"==typeof n.getDescription?n.getDescription():""})});return i.map(function(e){$.makeArray(e.description).map(function(i,a){n=0===a?"  "+e.name+s(i,t-e.name.length+4):"  "+s(i,t+4),o.push({content:n,classes:["white","fade-in"]})})}),o}function u(n){var e=[{content:"There isn't any extra help for this command",classes:["blue","fade-in"]}],t=_.find(r.commands,function(e){return e.getCommand()===n[0]});return t&&"function"==typeof t.getHelp&&(e=$.makeArray(t.getHelp()).map(function(n){return _.isString(n)&&(n={content:n,classes:["fade-in"]}),n})),e}function s(n,e){var t,o="";for(t=0;e>t;t++)o+=" ";return o+n}var r;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/table",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"table"}function t(){return"A test for table"}function i(){var n=["+--------------------------------+-------------------------------------+-------------------+","| Name                           | Path                                | Requirements      |","+--------------------------------+-------------------------------------+-------------------+","| auth.login                     | /auth/login                         | _method => POST   |","| auth.logout                    | /auth/logout                        | _method => GET    |","| akuma.index                    | /akuma/                             | _method => GET    |","| akuma.magazines.create         | /akuma/magazines                    | _method => POST   |","| akuma.magazines.update         | /akuma/magazines/{magazine}         | _method => PUT    |","| akuma.magazines.delete         | /akuma/magazines/{magazine}         | _method => DELETE |","| akuma.magazines.get            | /akuma/magazines/{magazine}         | _method => GET    |","| akuma.magazines.issues         | /akuma/magazines/{magazine}/issues  | _method => GET    |","| akuma.issues.create            | /akuma/issues                       | _method => POST   |","| akuma.issues.update            | /akuma/issues/{issue}               | _method => PUT    |","| akuma.issues.delete            | /akuma/issues/{issue}               | _method => DELETE |","| akuma.issues.get               | /akuma/issues/{issue}               | _method => GET    |","| akuma.issues.articles.add      | /akuma/issues/{issue}/articles      | _method => POST   |","| akuma.issues.articles.remove   | /akuma/issues/{issue}/articles      | _method => DELETE |","| akuma.users.create             | /akuma/users                        | _method => POST   |","| akuma.users.articles.index     | /akuma/users/{user}/articles        | _method => GET    |","+--------------------------------+-------------------------------------+-------------------+"];n.map(function(n){$(a).trigger(o.OUTPUT,{content:n,classes:["table"]})})}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/test",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(){function n(n){a=n}function e(){return"test"}function t(){return"Some test lines to see the different theme colors"}function i(){var n=$.Deferred(),e="This is some test text to see the colors",t=["black","red","green","yellow","blue","magenta","cyan","white"];return t.map(function(i,c){_.delay(function(){$(a).trigger(o.OUTPUT,{content:e,classes:[i,"fade-in"]}),c===t.length-1&&n.resolve()},100*c)}),n.promise()}var a;return{init:n,getCommand:e,getDescription:t,execute:i}})}),define("command/window",["events","util/transition-event","exports"],function(n,e,t){"use strict";function o(n,e){t[n]=e}var i;i=n["default"];var a;a=e["default"],o("default",function(){function n(n){u=n}function e(){return"window"}function t(){return["Allows you to change the size of the window.","Will work depending on you screen size."]}function o(){return[{content:"Usage:",classes:["yellow"]},{content:"  window &lt;size&gt;",classes:["fade-in"]},{content:"Sizes:",classes:["yellow"]},{content:"  min",classes:["fade-in"]},{content:"  max",classes:["fade-in"]},{content:"Description:",classes:["yellow"]},{content:"  Allow you to change the size of the console window",classes:["fade-in"]},{content:"  If you are using this command on a mobile device nothing will happen as the console is always at max.",classes:["fade-in"]}]}function c(n){var e=$.Deferred(),t=$(u.config.container),o=n[0];if(!t.hasClass(o)){var c;switch(o){case"min":case"max":c=o}if(c){var s=a();return s&&t.one(a(),function(){console.log("window transition fin"),e.resolve()}),t.parent().removeClass("min max").addClass(c),s?e.promise():e.resolve()}$(u).trigger(i.OUTPUT,{content:'Sorry "'+o+'" is an invalid size'})}}var u;return{init:n,getCommand:e,getDescription:t,getHelp:o,execute:c}})}),define("core/runner",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(n){function e(e,t){var i;if(t.command.length){var a=_.find(n.commands,function(n){return"function"!=typeof n.getCommand?!1:n.getCommand()===$.trim(t.command)});a&&"function"==typeof a.execute?i=a.execute(t.args):$(n).trigger(o.COMMAND_NOT_FOUND,t)}var c=function(){$(n).trigger(o.COMMAND_COMPLETE)};i&&i.done?i.done(c):c()}return $(n).off(o.COMMAND_SUBMIT,e).on(o.COMMAND_SUBMIT,e),{execute:e}})}),define("core/tracking",["events","exports"],function(n,e){"use strict";function t(n,t){e[n]=t}var o;o=n["default"],t("default",function(n){function e(n,e){"function"==typeof ga&&ga("send","event","command",e.command,e.args.join(" "))}$(n).off(o.COMMAND_SUBMIT,e).on(o.COMMAND_SUBMIT,e)})}),define("util/command-history",["exports"],function(n){"use strict";function e(e,t){n[e]=t}function t(){u=c.length}function o(n){c.push(n)}function i(){return 0>u-1?c[u]:(u--,c[u])}function a(){return u++,c[u]}var c=[],u=0;e("default",{resetIndex:t,addHistory:o,getNextCommand:i,getPreviousCommand:a})}),define("util/linkify",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",function(n){if(void 0===n)return"";var e=/\b(?:https?|ftp):\/\/[a-z0-9-+&@#\/%?=~_|!:,.;]*[a-z0-9-+&@#\/%=~_|]/gim,t=/(^|[^\/])(www\.[\S]+(\b|$))/gim,o=/\w+@[a-zA-Z_]+?(?:\.[a-zA-Z]{2,6})+/gim;return n.replace(e,'<a href="$&" target="_blank">$&</a>').replace(t,'$1<a href="http://$2" target="_blank">$2</a>').replace(o,'<a href="mailto:$&">$&</a>')})}),define("util/transition-event",["exports"],function(n){"use strict";function e(e,t){n[e]=t}function t(){var n,e=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(n in t)if(void 0!==e.style[n])return t[n]}var o;e("default",function(){return o||(o=t()),o})}),define("view/custom-input",["events","view/prompt","util/command-history","exports"],function(n,e,t,o){"use strict";function i(n,e){o[n]=e}var a;a=n["default"];var c;c=e["default"];var u;u=t["default"],i("default",function(n){function e(){var n=T.prev(),e=T.next();k===C.length?(n.text(C),T.html("&nbsp;"),e.text("")):0===k?(n.text(""),T.text(C.slice(0,1)),e.text(C.slice(1))):(n.text(C.slice(0,k)),T.text(C.slice(k,k+1)),e.text(k===C.length-1?"":C.slice(k+1)))}function t(n){k===C.length?C+=n:C=0===k?n+C:C.slice(0,k)+n+C.slice(k),k+=n.length,e()}function o(){var t=C.split(" "),o=t.shift();$(n).trigger(a.COMMAND_SUBMIT,{prompt:D.getPromptText(),command:o,args:t}),C.length&&u.addHistory(C),u.resetIndex(),C="",k=C.length,e()}function i(n){var t=n.which;t===y.left?k=0>k-1?0:k-1:t===y.right&&(k=k+1>C.length?C.length:k+1),e()}function s(n){var t,o=n.which;o===y.up?t=u.getNextCommand():o===y.down&&(t=u.getPreviousCommand()),C=void 0===t?"":t,k=C.length,e()}function r(){""!==C&&k>0&&(C=C.slice(0,k-1)+C.slice(k,C.length),k--,e())}function f(){""!==C&&k<C.length&&(C=C.slice(0,k)+C.slice(k+1,C.length),e())}function l(){return _.focus(),setTimeout(function(){t(_.val()),_.blur().val("")},10),!0}function m(){k=0,e()}function d(){k=C.length,e()}function p(n){!n.ctrlKey&&!n.altKey&&$.inArray(n.which,[91,93])<0&&($(".nano").nanoScroller({scroll:"bottom"}),t(String.fromCharCode(n.which)))}function g(){w.show().addClass("fade-in"),v(),e()}function v(){T.addClass("enable"),$(document).off("keypress",p).on("keypress",p)}function h(){$(document).off("keypress",p),T.removeClass("enable")}var w=$(n.config.container).find(n.config.inputSelector),T=w.find(".cursor"),_=w.find(".clipboard-input"),C="",k=C.length,D=new c(w.find(n.config.promptSelector)),M=new window.keypress.Listener,y={enter:13,left:37,up:38,right:39,down:40};M.simple_combo("tab",function(){return!1}),M.simple_combo("enter",o),M.simple_combo("left",i),M.simple_combo("right",i),M.simple_combo("up",s),M.simple_combo("down",s),M.simple_combo("backspace",r),M.simple_combo("delete",f),M.simple_combo("cmd v",l),M.simple_combo("ctrl v",l),M.simple_combo("cmd left",m),M.simple_combo("ctrl left",m),M.simple_combo("cmd right",d),M.simple_combo("ctrl right",d),$(n).off(a.ENABLE,v).on(a.ENABLE,v),$(n).off(a.DISABLE,h).on(a.DISABLE,h),$(n).off(a.READY,D.updateTime).on(a.READY,D.updateTime),$(n).off(a.COMMAND_SUBMIT,D.updateTime).on(a.COMMAND_SUBMIT,D.updateTime),$(n).off(a.READY,g).on(a.READY,g),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(_.off("keypress",p).on("keypress",p),$(n.config.container).click(function(){_.focus()}),_.focus())})}),define("view/input",["events","view/prompt","util/command-history","exports"],function(n,e,t,o){"use strict";function i(n,e){o[n]=e}var a;a=n["default"];var c;c=e["default"];var u;u=t["default"],i("default",function(n){function e(){$(n.config.input).show().addClass("fade-in"),s.focus()}function t(){$(n.config.input).hide()}function o(e){var t;if(e.keyCode===r.enter){var o=s.val(),i=o.split(" "),c=i.shift();$(n).trigger(a.COMMAND_SUBMIT,{prompt:f.getPromptText(),command:c,args:i}),o.length&&u.addHistory(o),u.resetIndex(),s.val("")}else e.keyCode===r.up?(t=u.getNextCommand(),s.val(void 0===t?"":t)):e.keyCode===r.down&&(t=u.getPreviousCommand(),s.val(void 0===t?"":t))}function i(n){(n.keyCode===r.up||n.keyCode===r.down)&&(s[0].selectionStart=s[0].selectionEnd=s[0].value.length)}var s=$(n.config.input).find("input"),r={enter:13,up:38,down:40},f=new c($(n.config.input).find(".prompt"));return $(n).off(a.READY,f.updateTime).on(a.READY,f.updateTime),$(n).off(a.COMMAND_SUBMIT,f.updateTime).on(a.COMMAND_SUBMIT,f.updateTime),$(n).off(a.READY,e).on(a.READY,e),$(n).off(a.INPUT_SHOW,e).on(a.INPUT_SHOW,e),$(n).off(a.INPUT_HIDE,t).on(a.INPUT_HIDE,t),s.off("keydown",o).on("keydown",o),s.off("keyup",i).on("keyup",i),$(n.config.container).click(function(){s.focus()}),{}})}),define("view/output",["events","util/linkify","exports"],function(n,e,t){"use strict";function o(n,e){t[n]=e}var i;i=n["default"];var a;a=e["default"],o("default",function(n){function e(n,e){var t=["line"];void 0!==e&&$.isArray(e)&&(t=t.concat(e));var o=$("<div>").addClass(t.join(" ")).html(a(n));f.append(o),l.scrollTop(l[0].scrollHeight)}function t(n,t){e(t.prompt+" "+t.command+" "+t.args.join(" "))}function o(n,t){e('The command "'+t.command+'" could not be found.')}function c(n,t){e(t,["red"])}function u(){$(n.config.container).nanoScroller(m)}function s(n,t){e(t.content,t.classes)}function r(){f.find(".line").remove()}var f=$(n.config.container).find(n.config.outputSelector),l=$(n.config.container).find(".console-content"),m={paneClass:"console-pane",sliderClass:"console-slider",contentClass:"console-content"};$(n).on(i.COMMAND_NOT_FOUND,o),$(n).on(i.COMMAND_ERROR,c),$(n).on(i.COMMAND_SUBMIT,t),$(n).on(i.COMMAND_COMPLETE,u),$(n).on(i.OUTPUT_CLEAR,r),$(n).on(i.OUTPUT,s),$(n).on(i.READY,u);for(var d=0,p=n.config.initOutput.length;p>d;d++)e(n.config.initOutput[d],["fade-in"]);return{addOutputLine:e}})}),define("view/prompt",["exports"],function(n){"use strict";function e(e,t){n[e]=t}e("default",function(n){function e(n,e){for(n=n.toString();n.length<e;)n="0"+n;return n}function t(){var t=new Date,o=e(t.getHours(),2)+":"+e(t.getMinutes(),2)+":"+e(t.getSeconds(),2);n.find(".time").text(o)}function o(){return $.trim(n.text())}return{updateTime:t,getPromptText:o}})});